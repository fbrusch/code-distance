// Generated by CoffeeScript 1.9.3
var _, distance;

_ = require('lodash');

distance = function(codeTokens1, codeTokens2) {
  var cost, i, j, k, l, ref, ref1, v0, v1;
  if (_.isEqual(codeTokens1, codeTokens2)) {
    return 0;
  }
  if (codeTokens1.length === 0 || codeTokens2.length === 0) {
    return codeTokens1.length + codeTokens2.length;
  }
  v1 = [];
  v0 = (function() {
    var k, ref, results;
    results = [];
    for (i = k = 0, ref = codeTokens2.length; 0 <= ref ? k <= ref : k >= ref; i = 0 <= ref ? ++k : --k) {
      results.push(i);
    }
    return results;
  })();
  for (i = k = 0, ref = codeTokens1.length - 1; 0 <= ref ? k <= ref : k >= ref; i = 0 <= ref ? ++k : --k) {
    v1 = [];
    v1[0] = i + 1;
    for (j = l = 0, ref1 = codeTokens2.length - 1; 0 <= ref1 ? l <= ref1 : l >= ref1; j = 0 <= ref1 ? ++l : --l) {
      cost = codeTokens1[i] === codeTokens2[j] ? 0 : 1;
      v1[j + 1] = Math.min.apply(this, [v1[j] + 1, v0[j + 1] + 1, v0[j] + cost]);
    }
    v0 = v1.slice(0);
  }
  return v1[codeTokens2.length];
};

module.exports = distance;
